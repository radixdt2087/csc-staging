<?php
 use Tygh\Registry; defined('BOOTSTRAP') or die('Access denied'); $schema['central']['customers']['items']['affiliates'] = [ 'attrs' => [ 'class'=>'is-addon' ], 'href' => 'partners.manage', 'alt' => 'profiles.update?user_type=P', 'position' => 350 ]; $schema['central']['marketing']['items']['affiliates_partnership'] = [ 'attrs' => [ 'class'=>'is-addon' ], 'href' => 'partners.manage', 'subitems' => [ 'product_groups' => [ 'href' => 'product_groups.manage', 'alt' => 'product_groups.add, product_groups.update', 'position' => 100 ], 'affilate_banners_manager' => [ 'href' => 'banners_manager.manage', 'alt' => 'banners_manager.add, banners_manager.update', 'position' => 200, 'subitems' => [ 'text_banners' => [ 'href' => 'banners_manager.manage?banner_type=T', 'position' => 100, ], 'graphic_banners' => [ 'href' => 'banners_manager.manage?banner_type=G', 'position' => 200, ], 'product_banners' => [ 'href' => 'banners_manager.manage?banner_type=P', 'position' => 300, ] ] ], 'plans_pro_affilates' => [ 'href' => 'affiliate_plans.manage?plan_type=P', 'alt' => 'affiliate_plans.add?plan_type=P, affiliate_plans.update?plan_type=P', 'position' => 300 ], 'affiliate_partners' => [ 'href' => 'partners.manage', 'alt' => 'profiles.update?user_type=P', 'position' => 400 ], 'approve_commissions' => [ 'href' => 'aff_statistics.approve', 'position' => 500 ], 'pay_affiliates' => [ 'href' => 'payouts.pay', 'position' => 600 ], 'payouts' => [ 'href' => 'payouts.manage', 'alt' => 'payouts.add, payouts.update', 'position' => 700 ], 'accounting_history' => [ 'href' => 'payouts.previous', 'position' => 800 ], 'affiliate_tiers_tree' => [ 'href' => 'partners.tree', 'position' => 900 ], ], ]; if (Registry::get('addons.sd_affiliate.allow_all_customers_be_affiliates') == 'Y') { $schema['central']['marketing']['items']['affiliates_partnership']['subitems']['plans_usual_customers'] = [ 'href' => 'affiliate_plans.manage?plan_type=C', 'alt' => 'affiliate_plans.add?plan_type=C, affiliate_plans.update?plan_type=C', 'position' => 350 ]; } return $schema; 